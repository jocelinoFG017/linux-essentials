---
layout: default 
title: Tópico 3.2
---

[← Voltar para Poder da Linha de Comando](/linux-essentials/01-book-lpi/Topico-03-Poder-da-Linha-de-Comando/){: .btn .btn-back }

---

### Canais padrão

- Canal 0 → Entrada padrão (stdin)
- Canal 1 → Saída padrão (stdout)
- Canal 2 → Saída de erro (stderr)

---

### Redirecionamento de saída

Para redirecionar a saída padrão para um arquivo, usamos o operador `>` seguido pelo nome do arquivo. Se não existir, um novo é criado; caso contrário, irá sobrescrever o já existente.

Exemplo:

```sh
echo "Hello World!" > filename
cat filename
# saída: Hello World!
```

O operador `>` cria um arquivo com o redirecionamento ou sobrescreve um já existente.

Se quisermos adicionar conteúdo, usamos o operador `>>`. Caso o arquivo não exista, ele cria um novo.

> **OBS:** Sempre adiciona o conteúdo em uma nova linha.

---

### Redirecionando o erro

Utilizamos o operador `2>`, seguido pelo nome do arquivo no qual os erros serão escritos.

Também podemos utilizar o `2>>` para concatenar erros ao arquivo.

---

### Redirecionando a entrada

Esse tipo de redirecionamento é usado para inserir dados em um comando a partir de um arquivo especificado, em vez do teclado.

O símbolo `<` envia os dados do arquivo como se fossem digitados.

---

### Here Documents

O operador é usado para inserir dados no comando, ao passo que a palavra que vem depois não especifica o nome do arquivo. A palavra é interpretada como o delimitador da entrada e não será levada em consideração como conteúdo.

---

### Combinações

Podemos combinar os redirecionamentos em um mesmo arquivo. Para isso, utilizamos o `&`, que representa a combinação dos canais.

---

### Pipes

A saída do primeiro comando torna-se a entrada do segundo comando.  
O símbolo `|` representa o pipe.

---

### Pesquisa dentro de arquivos com grep

Sua principal funcionalidade é buscar por um padrão especificado dentro de arquivos.

Podemos usar diversas flags com o grep, como `-i`, `-r`, `-c`, `-v`, `-E`.

---

### Expressões Regulares

Usadas para descrever pedacinhos de texto dentro de arquivos.

São utilizadas para procurar caracteres dentro do arquivo (ex: uma palavra dentro do arquivo), ou seja, ela lê o arquivo e busca dentro dele a "string" especificada.

Alguns metacaracteres:

- `.` → Corresponde a qualquer caractere único (exceto nova linha)
- `[abcABC]` → Corresponde a qualquer caractere dentro dos colchetes
- `[^abcABC]` → Corresponde a qualquer caractere, exceto os dentro dos colchetes
- `[a-z]` → Corresponde a qualquer caractere no intervalo
- `[^a-z]` → Corresponde a qualquer caractere, exceto os do intervalo
- `sun|moon` → Busca qualquer uma das strings listadas
- `^` → Início de linha
- `$` → Fim de linha

Exemplo 1:  
Retorna linhas que contenham exatamente "a" seguido de "b", ou seja, a substring "ab":

```sh
grep "ab" text.txt
```

Exemplo 2:  
Retorna qualquer linha que contenha pelo menos uma ocorrência da letra "a" ou da letra "b".  
O uso de `[ab]` significa “qualquer um dos caracteres a ou b”.

```sh
grep "[ab]" text.txt
```

---

### Metacaracteres que permitem a multiplicação do padrão especificado

- `^` → Metacaractere de início de linha
- `$` → Metacaractere de final de linha
- `*` → Zero ou mais do padrão anterior
- `+` → Um ou mais do padrão anterior
- `?` → Zero ou um do padrão anterior

Exemplo `^`:  
Retorna linhas cujo primeiro caractere é "a".

```sh
grep "^a" text.txt
```

Exemplo `$`:  
Retorna linhas que terminam com o número 2.

```sh
grep "2$" text.txt
```

> **OBS:** O caractere `+` é uma expressão regular estendida, e precisamos passar a opção `-E` para o comando.

<div class="nav-buttons">
  <a href="/linux-essentials/01-book-lpi/Topico-03-Poder-da-Linha-de-Comando/3.1-ComoComprimirArquivos" class="btn btn-back">Anterior</a>
  <a href="/linux-essentials/01-book-lpi/Topico-03-Poder-da-Linha-de-Comando/3.3-TransformandoComandoEmScripts" class="btn btn-back">Próximo</a>
</div>
